{"traceId":"a2825618d67202d4291630bb0d09b7e4","spans":{"84f8d341047a191b":{"spanId":"84f8d341047a191b","traceId":"a2825618d67202d4291630bb0d09b7e4","parentSpanId":"b059b5891ec69d28","startTime":1750228176740,"endTime":1750228204743.3286,"attributes":{"otel.scope.name":"@google-cloud/firestore","otel.scope.version":"7.11.1","gcp.firestore.settings.database_id":"(default)","gcp.firestore.settings.host":"firestore.googleapis.com:443","gcp.firestore.settings.max_idle_channels":1,"gcp.firestore.settings.initial_retry_delay":"0.1s","gcp.firestore.settings.initial_rpc_timeout":"60s","gcp.firestore.settings.total_timeout":"600s","gcp.firestore.settings.max_retry_delay":"60s","gcp.firestore.settings.max_rpc_timeout":"60s","gcp.firestore.settings.retry_delay_multiplier":"1.3","gcp.firestore.settings.rpc_timeout_multiplier":"1","gcp.firestore.settings.project_id":"detailflow-8mkmj"},"displayName":"Query.Get","links":[],"instrumentationLibrary":{"name":"@google-cloud/firestore","version":"7.11.1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"2 UNKNOWN: Getting metadata from plugin failed with error: Could not refresh access token: Request failed with status code 500"},"timeEvents":{"timeEvent":[{"time":1750228176742.216,"annotation":{"attributes":{"transactional":false,"retry_query_with_cursor":false},"description":"RunQuery"}},{"time":1750228176744.1445,"annotation":{"attributes":{},"description":"Firestore.runQuery: Start"}},{"time":1750228204743.3127,"annotation":{"attributes":{"exception.type":"2","exception.message":"2 UNKNOWN: Getting metadata from plugin failed with error: Could not refresh access token: Request failed with status code 500","exception.stacktrace":"Error: 2 UNKNOWN: Getting metadata from plugin failed with error: Could not refresh access token: Request failed with status code 500\n    at callErrorFromStatus (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/call.ts:82:17)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/client.ts:612:51)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)\n    at <anonymous> (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/resolving-call.ts:169:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/client.ts:595:42)\n    at ServiceClientImpl.<anonymous> (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:237:29\n    at <anonymous> (/home/user/studio/node_modules/google-gax/src/streamingCalls/streamingApiCaller.ts:59:19)\n    at <anonymous> (/home/user/studio/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)\n    at Object.request (/home/user/studio/node_modules/google-gax/src/streamingCalls/streaming.ts:331:28)\n    at Timeout.makeRequest [as _onTimeout] (/home/user/studio/node_modules/retry-request/index.js:159:28)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)\nCaused by: Error\n    at QueryUtil._getResponse (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query-util.js:44:23)\n    at CollectionReference._getResponse (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query.js:784:32)\n    at CollectionReference._get (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query.js:777:35)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query.js:745:43\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/home/user/studio/node_modules/@opentelemetry/sdk-trace-node/node_modules/@opentelemetry/context-async-hooks/src/AsyncLocalStorageContextManager.ts:40:36)\n    at ContextAPI.with (/home/user/studio/node_modules/@opentelemetry/api/src/api/context.ts:77:42)\n    at Tracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/sdk-trace-node/node_modules/@opentelemetry/sdk-trace-base/src/Tracer.ts:241:28)\n    at ProxyTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)"},"description":"exception"}}]}},"b059b5891ec69d28":{"spanId":"b059b5891ec69d28","traceId":"a2825618d67202d4291630bb0d09b7e4","startTime":1750228176739,"endTime":1750228204745.0623,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"tool","genkit:name":"searchServiceByKeywordTool","genkit:isRoot":true,"genkit:path":"/{searchServiceByKeywordTool,t:action}","genkit:input":"{\"keyword\":\"coating\",\"size\":\"S\"}","genkit:state":"error"},"displayName":"searchServiceByKeywordTool","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"2 UNKNOWN: Getting metadata from plugin failed with error: Could not refresh access token: Request failed with status code 500"},"timeEvents":{"timeEvent":[{"time":1750228204745.0056,"annotation":{"attributes":{"exception.type":"2","exception.message":"2 UNKNOWN: Getting metadata from plugin failed with error: Could not refresh access token: Request failed with status code 500","exception.stacktrace":"Error: 2 UNKNOWN: Getting metadata from plugin failed with error: Could not refresh access token: Request failed with status code 500\n    at callErrorFromStatus (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/call.ts:82:17)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/client.ts:612:51)\n    at Object.onReceiveStatus (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)\n    at <anonymous> (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/resolving-call.ts:169:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/client.ts:595:42)\n    at ServiceClientImpl.<anonymous> (/home/user/studio/node_modules/google-gax/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:237:29\n    at <anonymous> (/home/user/studio/node_modules/google-gax/src/streamingCalls/streamingApiCaller.ts:59:19)\n    at <anonymous> (/home/user/studio/node_modules/google-gax/src/normalCalls/timeout.ts:54:13)\n    at Object.request (/home/user/studio/node_modules/google-gax/src/streamingCalls/streaming.ts:331:28)\n    at Timeout.makeRequest [as _onTimeout] (/home/user/studio/node_modules/retry-request/index.js:159:28)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)\nCaused by: Error\n    at QueryUtil._getResponse (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query-util.js:44:23)\n    at CollectionReference._getResponse (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query.js:784:32)\n    at CollectionReference._get (/home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query.js:777:35)\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/reference/query.js:745:43\n    at /home/user/studio/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/home/user/studio/node_modules/@opentelemetry/sdk-trace-node/node_modules/@opentelemetry/context-async-hooks/src/AsyncLocalStorageContextManager.ts:40:36)\n    at ContextAPI.with (/home/user/studio/node_modules/@opentelemetry/api/src/api/context.ts:77:42)\n    at Tracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/sdk-trace-node/node_modules/@opentelemetry/sdk-trace-base/src/Tracer.ts:241:28)\n    at ProxyTracer.startActiveSpan (/home/user/studio/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts:51:20)"},"description":"exception"}}]}}},"displayName":"searchServiceByKeywordTool","startTime":1750228176739,"endTime":1750228204745.0623}