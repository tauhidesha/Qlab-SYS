{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/layout/AppHeader.tsx"],"sourcesContent":["import React from 'react';\nimport { SidebarTrigger } from '@/components/ui/sidebar';\n\ninterface AppHeaderProps {\n  title: string;\n}\n\nexport default function AppHeader({ title }: AppHeaderProps) {\n  return (\n    <header className=\"sticky top-0 z-10 flex h-14 items-center gap-4 border-b bg-background px-6 shadow-sm\">\n      <SidebarTrigger className=\"md:hidden\" />\n      <h1 className=\"font-headline text-xl font-semibold\">{title}</h1>\n      {/* Add other header elements like user menu, notifications here if needed */}\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;AAMe,SAAS,UAAU,EAAE,KAAK,EAAkB;IACzD,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC,sIAAA,CAAA,iBAAc;gBAAC,WAAU;;;;;;0BAC1B,6LAAC;gBAAG,WAAU;0BAAuC;;;;;;;;;;;;AAI3D;KARwB","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase.ts"],"sourcesContent":["\nimport { initializeApp, getApp, getApps, type FirebaseApp } from \"firebase/app\";\nimport { getFirestore, type Firestore, connectFirestoreEmulator } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\nlet app: FirebaseApp;\nlet db: Firestore;\n\nif (getApps().length === 0) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApp();\n}\n\ndb = getFirestore(app);\n\n// Kondisi untuk menggunakan emulator hanya saat development dan jika variabel env diset\n// Ini relevan jika kamu menjalankan Next.js secara LOKAL (yarn dev)\n// Untuk Firebase Studio, Studio akan menangani koneksi ke layanan cloud atau emulatornya sendiri.\nconst useEmulator = process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_USE_FIREBASE_EMULATOR === 'true';\n\nif (useEmulator) {\n  console.log(\"Firebase.ts: NODE_ENV is development and NEXT_PUBLIC_USE_FIREBASE_EMULATOR is true. Attempting to connect to Firestore Emulator.\");\n  try {\n    connectFirestoreEmulator(db, 'localhost', 8080);\n    console.log(\"🔥 Firebase.ts: SUCCESSFULLY connected to Firestore Emulator at localhost:8080\");\n  } catch (error) {\n    console.error(\" Firebase.ts: FAILED to connect to Firestore Emulator. Make sure emulator is running.\", error);\n  }\n} else {\n  console.log(\"Firebase.ts: Connecting to CLOUD Firestore. (NODE_ENV:\", process.env.NODE_ENV, \", NEXT_PUBLIC_USE_FIREBASE_EMULATOR:\", process.env.NEXT_PUBLIC_USE_FIREBASE_EMULATOR,\")\");\n}\n\nexport { app, db };\n"],"names":[],"mappings":";;;;AAKU;AAJV;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,KAAK,GAAG;IAC1B,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AACtB,OAAO;IACL,MAAM,CAAA,GAAA,uLAAA,CAAA,SAAM,AAAD;AACb;AAEA,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;AAElB,wFAAwF;AACxF,oEAAoE;AACpE,kGAAkG;AAClG,MAAM,cAAc,oDAAyB,iBAAiB,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,iCAAiC,KAAK;AAEhH,IAAI,aAAa;IACf,QAAQ,GAAG,CAAC;IACZ,IAAI;QACF,CAAA,GAAA,sKAAA,CAAA,2BAAwB,AAAD,EAAE,IAAI,aAAa;QAC1C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yFAAyF;IACzG;AACF,OAAO;IACL,QAAQ,GAAG,CAAC,2GAAgF,wCAAwC,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,iCAAiC,EAAC;AACpL","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 902, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,YAA6B;YAAC,WAAU;sBACvC,cAAA,6LAAC,yMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 972, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1007, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1084, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,mKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,mKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1198, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/pos/page.tsx"],"sourcesContent":["\n\"use client\";\nimport AppHeader from '@/components/layout/AppHeader';\nimport { Button, buttonVariants } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Separator } from '@/components/ui/separator';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { PlusCircle, Trash2, CreditCard, Loader2, ShoppingBag, UserPlus, Star, Tags, MessageSquareText, Send, Gift, UserCog, PackageSearch } from 'lucide-react'; // Added PackageSearch\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { db } from '@/lib/firebase';\nimport { collection, query, where, orderBy, onSnapshot, doc, updateDoc, arrayUnion, serverTimestamp, addDoc, type Timestamp, getDocs, getDoc, deleteDoc, deleteField as firestoreDeleteField } from 'firebase/firestore';\nimport type { Transaction, TransactionItem } from '@/types/transaction';\nimport type { ServiceProduct, ServiceProductVariant } from '@/app/(app)/services/page';\nimport type { Client } from '@/types/client';\nimport type { StaffMember } from '@/types/staff';\nimport type { LoyaltyReward } from '@/types/loyalty';\nimport { useToast } from '@/hooks/use-toast';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n  DialogClose,\n} from '@/components/ui/dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Textarea } from '@/components/ui/textarea';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Badge } from '@/components/ui/badge';\nimport { cn } from '@/lib/utils';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\n\n\nconst SHOP_NAME = \"QLAB Auto Detailing\";\n\n// --- KONFIGURASI BONUS ITEM OTOMATIS ---\n// Ganti dengan ID layanan yang akan memicu bonus (misalnya, \"Advance Formula\")\nconst TRIGGER_SERVICE_ID = 'SVC_ADVANCE_FORMULA_PLACEHOLDER';\n// Ganti dengan ID produk sticker reward yang sudah dibuat di katalog dengan harga 0\nconst BONUS_STICKER_PRODUCT_ID = 'PROD_STICKER_REWARD_PLACEHOLDER';\n// --- END KONFIGURASI BONUS ITEM OTOMATIS ---\n\n\nexport default function PosPage() {\n  const [openTransactions, setOpenTransactions] = useState<Transaction[]>([]);\n  const [loadingTransactions, setLoadingTransactions] = useState(true);\n  const [selectedTransactionId, setSelectedTransactionId] = useState<string | null>(null);\n\n  const [isAddItemDialogOpen, setIsAddItemDialogOpen] = useState(false);\n  const [isSubmittingItem, setIsSubmittingItem] = useState(false);\n\n  const [availableItems, setAvailableItems] = useState<ServiceProduct[]>([]);\n  const [loadingCatalogItems, setLoadingCatalogItems] = useState(true);\n  const [selectedCatalogItemId, setSelectedCatalogItemId] = useState<string>('');\n  const [selectedVariantId, setSelectedVariantId] = useState<string | undefined>(undefined);\n  const [itemQuantity, setItemQuantity] = useState<number | string>(1);\n  const [itemCategories, setItemCategories] = useState<string[]>([]);\n  const [selectedItemCategoryTab, setSelectedItemCategoryTab] = useState<string>(\"Semua\");\n  const [selectedStaffForNewItemToAdd, setSelectedStaffForNewItemToAdd] = useState<string | undefined>(undefined);\n\n\n  const [isPaymentDialogOpen, setIsPaymentDialogOpen] = useState(false);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState<string>('');\n  const [paymentNotes, setPaymentNotes] = useState<string>('');\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\n\n  const paymentMethods = [\"Tunai\", \"QRIS\", \"Kartu Debit\"];\n\n  const [isCreateBillDialogOpen, setIsCreateBillDialogOpen] = useState(false);\n  const [newBillType, setNewBillType] = useState<'walk-in' | 'existing-client'>('walk-in');\n  const [availableClients, setAvailableClients] = useState<Client[]>([]);\n  const [loadingClients, setLoadingClients] = useState(true);\n  const [selectedClientIdForNewBill, setSelectedClientIdForNewBill] = useState<string | undefined>(undefined);\n  const [isSubmittingNewBill, setIsSubmittingNewBill] = useState(false);\n\n  const [selectedClientDetails, setSelectedClientDetails] = useState<Client | null>(null);\n  const [isRedeemPointsDialogOpen, setIsRedeemPointsDialogOpen] = useState(false);\n  const [isSubmittingRedemption, setIsSubmittingRedemption] = useState(false);\n\n  const [availableLoyaltyRewards, setAvailableLoyaltyRewards] = useState<LoyaltyReward[]>([]);\n  const [loadingLoyaltyRewards, setLoadingLoyaltyRewards] = useState(true);\n  const [minPointsToRedeemConfig, setMinPointsToRedeemConfig] = useState(100);\n  const [availableRewardsForClient, setAvailableRewardsForClient] = useState<LoyaltyReward[]>([]);\n  const [selectedRewardToRedeem, setSelectedRewardToRedeem] = useState<LoyaltyReward | null>(null);\n\n\n  const [isWhatsAppDialogOpen, setIsWhatsAppDialogOpen] = useState(false);\n  const [whatsAppNumberInput, setWhatsAppNumberInput] = useState('');\n  const [lastPaidTransactionDetails, setLastPaidTransactionDetails] = useState<Transaction | null>(null);\n  const [isSendingWhatsAppReceipt, setIsSendingWhatsAppReceipt] = useState(false); // State for sending receipt loading\n\n  const [transactionToDelete, setTransactionToDelete] = useState<Transaction | null>(null);\n  const [isDeletingTransaction, setIsDeletingTransaction] = useState<boolean>(false);\n\n  const [assignableStaffList, setAssignableStaffList] = useState<StaffMember[]>([]);\n  const [loadingAssignableStaff, setLoadingAssignableStaff] = useState(true);\n\n\n  const { toast } = useToast();\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n\n  useEffect(() => {\n    setLoadingTransactions(true);\n    const transactionsRef = collection(db, 'transactions');\n    const q = query(transactionsRef, where('status', '==', 'open'), orderBy('createdAt', 'desc'));\n\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const transactionsData = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Transaction));\n      setOpenTransactions(transactionsData);\n      setLoadingTransactions(false);\n    }, (error) => {\n      console.error(\"Error fetching open transactions: \", error);\n      toast({\n        title: \"Error\",\n        description: \"Tidak dapat mengambil data transaksi terbuka.\",\n        variant: \"destructive\",\n      });\n      setLoadingTransactions(false);\n    });\n\n    return () => unsubscribe();\n  }, [toast]);\n\n  useEffect(() => {\n    const qid = searchParams.get('qid');\n    if (qid && openTransactions.length > 0 && !loadingTransactions && !selectedTransactionId) {\n      const matchedTransaction = openTransactions.find(t => t.queueItemId === qid);\n      if (matchedTransaction) {\n        setSelectedTransactionId(matchedTransaction.id);\n\n        // Clean the URL by removing the qid query parameter\n        const newUrl = new URL(window.location.href);\n        newUrl.searchParams.delete('qid');\n        router.replace(newUrl.pathname + newUrl.search, { shallow: true });\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openTransactions, searchParams, router, pathname, loadingTransactions]); // Do not add selectedTransactionId or setSelectedTransactionId to avoid loops\n\n  useEffect(() => {\n    const fetchAvailableItems = async () => {\n        setLoadingCatalogItems(true);\n        try {\n            const itemsCollectionRef = collection(db, 'services');\n            const q = query(itemsCollectionRef, orderBy(\"name\"));\n            const querySnapshot = await getDocs(q);\n            const itemsData = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as ServiceProduct));\n            setAvailableItems(itemsData);\n\n            const uniqueCategories = Array.from(new Set(itemsData.map(item => item.category).filter(Boolean)));\n            setItemCategories([\"Semua\", ...uniqueCategories]);\n\n        } catch (error) {\n            console.error(\"Error fetching available items: \", error);\n            toast({\n                title: \"Error\",\n                description: \"Tidak dapat mengambil daftar item layanan/produk.\",\n                variant: \"destructive\",\n            });\n        } finally {\n            setLoadingCatalogItems(false);\n        }\n    };\n    fetchAvailableItems();\n  }, [toast]);\n\n  const fetchAssignableStaff = useCallback(async () => {\n    setLoadingAssignableStaff(true);\n    try {\n      const staffCollectionRef = collection(db, 'staffMembers');\n      const q = query(staffCollectionRef, where(\"role\", \"==\", \"Teknisi\"), orderBy(\"name\"));\n      const querySnapshot = await getDocs(q);\n      const staffData = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as StaffMember));\n      setAssignableStaffList(staffData);\n    } catch (error) {\n      console.error(\"Error fetching assignable staff: \", error);\n      toast({ title: \"Error\", description: \"Tidak dapat mengambil daftar staf teknisi.\", variant: \"destructive\" });\n    } finally {\n      setLoadingAssignableStaff(false);\n    }\n  }, [toast]);\n\n  useEffect(() => {\n    fetchAssignableStaff();\n  }, [fetchAssignableStaff]);\n\n\n  const filteredGalleryItems = useMemo(() => {\n    if (selectedItemCategoryTab === \"Semua\") {\n      return availableItems;\n    }\n    return availableItems.filter(item => item.category === selectedItemCategoryTab);\n  }, [availableItems, selectedItemCategoryTab]);\n\n  const handleCategoryTabChange = (category: string) => {\n    setSelectedItemCategoryTab(category);\n    setSelectedCatalogItemId('');\n    setSelectedVariantId(undefined);\n    setItemQuantity(1);\n    setSelectedStaffForNewItemToAdd(undefined);\n  };\n\n  useEffect(() => {\n    const fetchClients = async () => {\n        setLoadingClients(true);\n        try {\n            const clientsCollectionRef = collection(db, 'clients');\n            const q = query(clientsCollectionRef, orderBy(\"name\"));\n            const querySnapshot = await getDocs(q);\n            const clientsData = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Client));\n            setAvailableClients(clientsData);\n        } catch (error) {\n            console.error(\"Error fetching clients: \", error);\n            toast({\n                title: \"Error\",\n                description: \"Tidak dapat mengambil daftar klien.\",\n                variant: \"destructive\",\n            });\n        } finally {\n            setLoadingClients(false);\n        }\n    };\n    fetchClients();\n  }, [toast]);\n\n  useEffect(() => {\n    const fetchLoyaltyRewards = async () => {\n      setLoadingLoyaltyRewards(true);\n      try {\n        const rewardsCollectionRef = collection(db, 'loyaltyRewards');\n        const q = query(rewardsCollectionRef, where(\"isActive\", \"==\", true), orderBy(\"pointsRequired\"));\n        const querySnapshot = await getDocs(q);\n        const rewardsData = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as LoyaltyReward));\n        setAvailableLoyaltyRewards(rewardsData);\n\n        const settingsDocRef = doc(db, 'appSettings', 'financial');\n        const settingsSnap = await getDoc(settingsDocRef);\n        if (settingsSnap.exists() && settingsSnap.data()?.minPointsToRedeemGeneral) {\n            setMinPointsToRedeemConfig(settingsSnap.data()?.minPointsToRedeemGeneral);\n        }\n\n      } catch (error) {\n        console.error(\"Error fetching loyalty rewards: \", error);\n        toast({ title: \"Error\", description: \"Tidak dapat mengambil daftar reward loyalitas.\", variant: \"destructive\" });\n      } finally {\n        setLoadingLoyaltyRewards(false);\n      }\n    };\n    fetchLoyaltyRewards();\n  }, [toast]);\n\n  const selectedTransaction = useMemo(() => {\n    if (!selectedTransactionId) return null;\n    return openTransactions.find(t => t.id === selectedTransactionId) || null;\n  }, [openTransactions, selectedTransactionId]);\n\n   useEffect(() => {\n    const updateSelectedClientDetails = async () => {\n      if (selectedTransaction?.clientId) {\n        const client = availableClients.find(c => c.id === selectedTransaction.clientId);\n        setSelectedClientDetails(client || null);\n      } else {\n        setSelectedClientDetails(null);\n      }\n    };\n    updateSelectedClientDetails();\n  }, [selectedTransaction, availableClients]);\n\n\n  const handleSelectTransaction = (transactionId: string) => {\n    setSelectedTransactionId(transactionId);\n  };\n\n  const resetAddItemForm = () => {\n    setSelectedCatalogItemId('');\n    setSelectedVariantId(undefined);\n    setItemQuantity(1);\n    setSelectedItemCategoryTab(\"Semua\");\n    setSelectedStaffForNewItemToAdd(undefined);\n  };\n\n  const handleSelectGalleryItem = (item: ServiceProduct) => {\n    setSelectedCatalogItemId(item.id);\n    setSelectedVariantId(undefined); // Reset variant when new item selected\n    setSelectedStaffForNewItemToAdd(undefined);\n  };\n\n  const selectedGalleryItemDetails = useMemo(() => {\n    return availableItems.find(item => item.id === selectedCatalogItemId);\n  }, [availableItems, selectedCatalogItemId]);\n\n  const selectedVariantDetails = useMemo(() => {\n    if (!selectedGalleryItemDetails || !selectedVariantId) return null;\n    return selectedGalleryItemDetails.variants?.find(v => v.id === selectedVariantId) || null;\n  }, [selectedGalleryItemDetails, selectedVariantId]);\n\n\n  const handleAddItemToTransaction = async () => {\n    if (!selectedTransaction || !selectedCatalogItemId) {\n        toast({ title: \"Input Tidak Lengkap\", description: \"Pilih item dari galeri dan pastikan jumlah diisi.\", variant: \"destructive\" });\n        return;\n    }\n\n    const catalogItem = availableItems.find(item => item.id === selectedCatalogItemId);\n    if (!catalogItem) {\n        toast({ title: \"Error\", description: \"Item katalog tidak ditemukan.\", variant: \"destructive\" });\n        return;\n    }\n\n    if (catalogItem.variants && catalogItem.variants.length > 0 && !selectedVariantId) {\n        toast({ title: \"Input Tidak Lengkap\", description: \"Pilih varian untuk item ini.\", variant: \"destructive\" });\n        return;\n    }\n\n    const quantity = parseInt(String(itemQuantity), 10);\n    if (isNaN(quantity) || quantity <= 0) {\n        toast({ title: \"Input Tidak Valid\", description: \"Jumlah harus angka positif.\", variant: \"destructive\" });\n        return;\n    }\n\n    if (catalogItem.type === 'Layanan' && !selectedStaffForNewItemToAdd) {\n      toast({ title: \"Input Tidak Lengkap\", description: \"Pilih staf teknisi untuk layanan ini.\", variant: \"destructive\" });\n      return;\n    }\n\n    setIsSubmittingItem(true);\n    let itemName = catalogItem.name;\n    let itemPrice = catalogItem.price;\n    let itemPoints = catalogItem.pointsAwarded || 0;\n\n    if (selectedVariantId && catalogItem.variants) {\n        const variant = catalogItem.variants.find(v => v.id === selectedVariantId);\n        if (variant) {\n            itemName = `${catalogItem.name} - ${variant.name}`;\n            itemPrice = variant.price;\n            itemPoints = variant.pointsAwarded || 0;\n        } else {\n             toast({ title: \"Error\", description: \"Varian yang dipilih tidak ditemukan.\", variant: \"destructive\" });\n             setIsSubmittingItem(false);\n             return;\n        }\n    }\n\n    const mainTransactionItem: TransactionItem = {\n      id: uuidv4(),\n      catalogItemId: catalogItem.id,\n      variantId: selectedVariantId,\n      name: itemName,\n      price: itemPrice,\n      quantity: quantity,\n      type: catalogItem.type === 'Layanan' ? 'service' : 'product',\n      pointsAwardedPerUnit: itemPoints,\n      ...(catalogItem.type === 'Layanan' && selectedStaffForNewItemToAdd && { staffName: selectedStaffForNewItemToAdd }),\n    };\n\n    let itemsToActuallyAdd: TransactionItem[] = [mainTransactionItem];\n    let bonusStickerAddedMessage: string | null = null;\n\n    // --- Logika Penambahan Bonus Sticker Otomatis ---\n    if (catalogItem.id === TRIGGER_SERVICE_ID) {\n        const stickerAlreadyInTransaction = selectedTransaction.items.some(it => it.catalogItemId === BONUS_STICKER_PRODUCT_ID);\n        if (!stickerAlreadyInTransaction) {\n            const stickerProduct = availableItems.find(item => item.id === BONUS_STICKER_PRODUCT_ID);\n            if (stickerProduct) {\n                const stickerTransactionItem: TransactionItem = {\n                    id: uuidv4(),\n                    catalogItemId: stickerProduct.id,\n                    name: stickerProduct.name,\n                    price: 0, // Bonus item should be free\n                    quantity: 1,\n                    type: 'reward_merchandise', // Atau 'product' jika tidak ingin dibedakan khusus\n                    pointsAwardedPerUnit: 0, // Bonus item usually doesn't award points\n                };\n                itemsToActuallyAdd.push(stickerTransactionItem);\n                bonusStickerAddedMessage = `${stickerProduct.name} berhasil ditambahkan sebagai bonus!`;\n            } else {\n                 console.warn(`Produk bonus sticker dengan ID \"${BONUS_STICKER_PRODUCT_ID}\" tidak ditemukan di katalog.`);\n                 toast({ title: \"Info\", description: \"Produk bonus sticker tidak ditemukan di katalog.\", variant: \"default\" });\n            }\n        }\n    }\n    // --- Akhir Logika Bonus Sticker ---\n\n\n    try {\n      const transactionDocRef = doc(db, 'transactions', selectedTransaction.id);\n      const currentItems = selectedTransaction.items || [];\n\n      const updatedItemsForCalc = [...currentItems, ...itemsToActuallyAdd];\n\n      const { subtotal: newSubtotal, total: newTotal } = calculateTransactionTotals(\n        updatedItemsForCalc,\n        selectedTransaction.discountAmount,\n        selectedTransaction.discountPercentage,\n        selectedTransaction.pointsRedeemedValue\n      );\n\n      await updateDoc(transactionDocRef, {\n        items: arrayUnion(...itemsToActuallyAdd), // Use arrayUnion with spread for multiple items\n        subtotal: newSubtotal,\n        total: newTotal,\n        updatedAt: serverTimestamp(),\n      });\n\n      toast({ title: \"Sukses\", description: `${mainTransactionItem.name} berhasil ditambahkan.` });\n      if (bonusStickerAddedMessage) {\n        toast({ title: \"Bonus!\", description: bonusStickerAddedMessage });\n      }\n      setIsAddItemDialogOpen(false);\n      resetAddItemForm();\n    } catch (error) {\n      console.error(\"Error adding item(s) to transaction: \", error);\n      toast({ title: \"Error\", description: \"Gagal menambahkan item.\", variant: \"destructive\" });\n    } finally {\n      setIsSubmittingItem(false);\n    }\n  };\n\n  const resetNewBillDialogState = () => {\n    setNewBillType('walk-in');\n    setSelectedClientIdForNewBill(undefined);\n  };\n\n  const handleConfirmCreateBill = async () => {\n    if (newBillType === 'existing-client' && !selectedClientIdForNewBill) {\n      toast({ title: \"Input Kurang\", description: \"Silakan pilih klien terdaftar.\", variant: \"destructive\" });\n      return;\n    }\n\n    setIsSubmittingNewBill(true);\n    try {\n      let customerNameForBill = \"Pelanggan Walk-in #\" + (openTransactions.filter(t => t.customerName.startsWith(\"Pelanggan Walk-in\")).length + 1 + Math.floor(Math.random()*100));\n      let clientIdForBill: string | undefined = undefined;\n\n      if (newBillType === 'existing-client' && selectedClientIdForNewBill) {\n        const client = availableClients.find(c => c.id === selectedClientIdForNewBill);\n        if (client) {\n          customerNameForBill = client.name;\n          clientIdForBill = client.id;\n        } else {\n          toast({ title: \"Error\", description: \"Klien yang dipilih tidak ditemukan.\", variant: \"destructive\" });\n          setIsSubmittingNewBill(false);\n          return;\n        }\n      }\n\n      const newTransactionBaseData = {\n        customerName: customerNameForBill,\n        status: 'open' as 'open',\n        items: [] as TransactionItem[],\n        subtotal: 0,\n        discountAmount: 0,\n        discountPercentage: 0,\n        pointsRedeemed: 0,\n        pointsRedeemedValue: 0,\n        total: 0,\n        createdAt: serverTimestamp() as Timestamp,\n        updatedAt: serverTimestamp() as Timestamp,\n      };\n\n      const newTransactionData: Partial<Omit<Transaction, 'id'>> & { createdAt: any, updatedAt: any } = {\n        ...newTransactionBaseData,\n      };\n\n      if (clientIdForBill) {\n        newTransactionData.clientId = clientIdForBill;\n      }\n\n\n      const docRef = await addDoc(collection(db, 'transactions'), newTransactionData);\n      setSelectedTransactionId(docRef.id);\n      toast({ title: \"Sukses\", description: `Transaksi baru untuk ${customerNameForBill} berhasil dibuat.` });\n      setIsCreateBillDialogOpen(false);\n      resetNewBillDialogState();\n    } catch (error) {\n      console.error(\"Error creating new bill: \", error);\n      toast({ title: \"Error\", description: \"Gagal membuat bill baru.\", variant: \"destructive\" });\n    } finally {\n      setIsSubmittingNewBill(false);\n    }\n  };\n\n\n  const calculateTransactionTotals = (\n    items: TransactionItem[],\n    discountAmountParam: number = 0,\n    discountPercentageParam: number = 0,\n    pointsRedeemedValueParam: number = 0\n  ) => {\n    const subtotal = items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    let effectiveDiscountAmount = 0;\n\n    if (pointsRedeemedValueParam > 0) {\n      effectiveDiscountAmount = pointsRedeemedValueParam;\n    } else if (discountAmountParam > 0) {\n      effectiveDiscountAmount = discountAmountParam;\n    } else if (discountPercentageParam > 0) {\n      effectiveDiscountAmount = subtotal * (discountPercentageParam / 100);\n    }\n\n    const total = Math.max(0, subtotal - effectiveDiscountAmount);\n    return { subtotal, total, discountAmountApplied: effectiveDiscountAmount };\n  };\n\n  const handleRemoveItemFromTransaction = async (itemIdToRemove: string) => {\n    if (!selectedTransaction) return;\n\n    setIsSubmittingItem(true);\n    try {\n        const transactionDocRef = doc(db, 'transactions', selectedTransaction.id);\n        let updatedItemsArray = selectedTransaction.items.filter(item => item.id !== itemIdToRemove);\n        let newRedeemedReward = selectedTransaction.redeemedReward;\n        let newPointsRedeemed = selectedTransaction.pointsRedeemed;\n        let newPointsRedeemedValue = selectedTransaction.pointsRedeemedValue;\n\n        const removedItem = selectedTransaction.items.find(item => item.id === itemIdToRemove);\n        if (removedItem?.type === 'reward_merchandise' && newRedeemedReward && newRedeemedReward.name === removedItem.name) {\n             newRedeemedReward = undefined;\n             newPointsRedeemed = 0;\n             newPointsRedeemedValue = 0;\n        }\n\n        const { subtotal, total, discountAmountApplied } = calculateTransactionTotals(\n            updatedItemsArray,\n            newRedeemedReward && newRedeemedReward.type === 'discount_transaction' ? 0 : selectedTransaction.discountAmount,\n            newRedeemedReward && newRedeemedReward.type === 'discount_transaction' ? 0 : selectedTransaction.discountPercentage,\n            newPointsRedeemedValue\n        );\n\n        await updateDoc(transactionDocRef, {\n            items: updatedItemsArray,\n            subtotal: subtotal,\n            total: total,\n            discountAmount: discountAmountApplied,\n            redeemedReward: newRedeemedReward === undefined ? firestoreDeleteField() : newRedeemedReward,\n            pointsRedeemed: newPointsRedeemed === 0 ? firestoreDeleteField() : newPointsRedeemed,\n            pointsRedeemedValue: newPointsRedeemedValue === 0 ? firestoreDeleteField() : newPointsRedeemedValue,\n            updatedAt: serverTimestamp(),\n        });\n\n        toast({ title: \"Sukses\", description: \"Item berhasil dihapus dari transaksi.\" });\n    } catch (error) {\n        console.error(\"Error removing item from transaction: \", error);\n        toast({ title: \"Error\", description: \"Gagal menghapus item.\", variant: \"destructive\" });\n    } finally {\n        setIsSubmittingItem(false);\n    }\n  };\n\n  const handleDiscountChange = async (transactionId: string, items: TransactionItem[], newDiscountAmountInput: string, newDiscountPercentageInput: string) => {\n    if (!selectedTransaction) return;\n\n    if (selectedTransaction.redeemedReward) {\n        toast({title: \"Info Diskon\", description: \"Reward sedang aktif. Hapus reward untuk menerapkan diskon manual.\", variant: \"default\"});\n        return;\n    }\n\n    const newDiscountAmount = parseFloat(newDiscountAmountInput) || 0;\n    const newDiscountPercentage = parseFloat(newDiscountPercentageInput) || 0;\n\n    let appliedDiscountAmount = 0;\n    let appliedDiscountPercentage = 0;\n\n    if (newDiscountAmount > 0) {\n        appliedDiscountAmount = newDiscountAmount;\n    } else if (newDiscountPercentage > 0) {\n        appliedDiscountPercentage = newDiscountPercentage;\n    }\n\n    const { total, discountAmountApplied } = calculateTransactionTotals(items, appliedDiscountAmount, appliedDiscountPercentage, 0);\n\n    try {\n        const transactionDocRef = doc(db, 'transactions', transactionId);\n        await updateDoc(transactionDocRef, {\n            discountAmount: appliedDiscountAmount > 0 ? appliedDiscountAmount : (appliedDiscountPercentage > 0 ? discountAmountApplied : 0),\n            discountPercentage: appliedDiscountPercentage,\n            total: total,\n            pointsRedeemed: firestoreDeleteField(),\n            pointsRedeemedValue: firestoreDeleteField(),\n            redeemedReward: firestoreDeleteField(),\n            updatedAt: serverTimestamp()\n        });\n         toast({ title: \"Diskon Diperbarui\", description: \"Diskon manual berhasil diterapkan.\", variant: \"default\"});\n    } catch (error) {\n        console.error(\"Error updating discount:\", error);\n        toast({ title: \"Error Diskon\", description: \"Gagal menyimpan perubahan diskon.\", variant: \"destructive\"});\n    }\n  };\n\n  const handleOpenPaymentDialog = () => {\n    if (selectedTransaction && selectedTransaction.items.length > 0) {\n      setSelectedPaymentMethod('');\n      setPaymentNotes('');\n      setIsPaymentDialogOpen(true);\n    } else {\n      toast({\n        title: \"Tidak Dapat Memproses\",\n        description: \"Tidak ada item dalam transaksi atau transaksi tidak dipilih.\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const handleOpenRedeemPointsDialog = () => {\n    if (selectedClientDetails && selectedTransaction && (selectedClientDetails.loyaltyPoints || 0) >= minPointsToRedeemConfig) {\n      const affordableRewards = availableLoyaltyRewards.filter(reward =>\n        reward.isActive && (selectedClientDetails.loyaltyPoints || 0) >= reward.pointsRequired\n      );\n      setAvailableRewardsForClient(affordableRewards);\n      setSelectedRewardToRedeem(null);\n      setIsRedeemPointsDialogOpen(true);\n    } else {\n      toast({title: \"Info\", description: `Klien tidak memenuhi syarat (poin < ${minPointsToRedeemConfig}) atau tidak ada reward yang aktif/terjangkau.`, variant:\"default\"});\n    }\n  };\n\n  const handleRedeemReward = async () => {\n    if (!selectedTransaction || !selectedClientDetails || !selectedRewardToRedeem) return;\n\n    if ((selectedClientDetails.loyaltyPoints || 0) < selectedRewardToRedeem.pointsRequired) {\n        toast({ title: \"Poin Tidak Cukup\", description: \"Poin klien tidak cukup untuk menukarkan reward ini.\", variant: \"destructive\" });\n        return;\n    }\n\n    setIsSubmittingRedemption(true);\n    const transactionDocRef = doc(db, 'transactions', selectedTransaction.id);\n    let updatedItems = [...selectedTransaction.items];\n    let discountValueFromReward = 0;\n\n    const rewardDetailsToStore = {\n        id: selectedRewardToRedeem.id,\n        name: selectedRewardToRedeem.name,\n        type: selectedRewardToRedeem.type,\n        value: selectedRewardToRedeem.rewardValue,\n    };\n\n    if (selectedRewardToRedeem.type === 'merchandise') {\n        const merchandiseItem: TransactionItem = {\n            id: uuidv4(),\n            catalogItemId: `reward_${selectedRewardToRedeem.id}`, \n            name: selectedRewardToRedeem.rewardValue as string, \n            price: 0,\n            quantity: 1,\n            type: 'reward_merchandise',\n            pointsAwardedPerUnit: 0,\n        };\n        updatedItems.push(merchandiseItem);\n    } else if (selectedRewardToRedeem.type === 'discount_transaction') {\n        discountValueFromReward = selectedRewardToRedeem.rewardValue as number;\n    }\n\n    const { subtotal, total } = calculateTransactionTotals(\n        updatedItems,\n        0,\n        0,\n        discountValueFromReward\n    );\n\n    try {\n      await updateDoc(transactionDocRef, {\n        items: updatedItems,\n        pointsRedeemed: selectedRewardToRedeem.pointsRequired,\n        pointsRedeemedValue: discountValueFromReward,\n        discountAmount: discountValueFromReward, \n        discountPercentage: 0, \n        redeemedReward: rewardDetailsToStore,\n        total: total,\n        subtotal: subtotal,\n        notes: `${selectedTransaction.notes || ''} [Tukar ${selectedRewardToRedeem.pointsRequired} poin: ${selectedRewardToRedeem.name}]`.trim(),\n        updatedAt: serverTimestamp(),\n      });\n      toast({ title: \"Sukses\", description: `Reward \"${selectedRewardToRedeem.name}\" berhasil diterapkan.` });\n      setIsRedeemPointsDialogOpen(false);\n    } catch (error) {\n      console.error(\"Error applying reward: \", error);\n      toast({ title: \"Error\", description: \"Gagal menerapkan reward.\", variant: \"destructive\" });\n    } finally {\n      setIsSubmittingRedemption(false);\n    }\n  };\n\n\n  const handleConfirmPayment = async () => {\n    if (!selectedTransaction) {\n      toast({ title: \"Error\", description: \"Tidak ada transaksi yang dipilih.\", variant: \"destructive\"});\n      return;\n    }\n    if (!selectedPaymentMethod) {\n      toast({ title: \"Input Kurang\", description: \"Silakan pilih metode pembayaran.\", variant: \"destructive\"});\n      return;\n    }\n\n    setIsProcessingPayment(true);\n    try {\n      const transactionDocRef = doc(db, 'transactions', selectedTransaction.id);\n\n      let pointsEarnedThisTransaction = 0;\n\n      if (selectedTransaction.clientId && (!selectedTransaction.pointsRedeemed || selectedTransaction.pointsRedeemed === 0)) {\n         pointsEarnedThisTransaction = selectedTransaction.items.reduce((sum, item) => {\n            if (item.type === 'reward_merchandise') return sum; \n            const awardedPoints = (typeof item.pointsAwardedPerUnit === 'number' && !isNaN(item.pointsAwardedPerUnit)) ? item.pointsAwardedPerUnit : 0;\n            const qty = (typeof item.quantity === 'number' && !isNaN(item.quantity) && item.quantity > 0) ? item.quantity : 1;\n            return sum + (awardedPoints * qty);\n        }, 0);\n      }\n\n      if (selectedTransaction.clientId) {\n        const clientDocRef = doc(db, 'clients', selectedTransaction.clientId);\n        const clientDocSnap = await getDoc(clientDocRef);\n\n        if (clientDocSnap.exists()) {\n            const clientData = clientDocSnap.data() as Client;\n            let currentLoyaltyPoints = (typeof clientData.loyaltyPoints === 'number' && !isNaN(clientData.loyaltyPoints)) ? clientData.loyaltyPoints : 0;\n\n            const pointsRedeemedThisTransaction = (typeof selectedTransaction.pointsRedeemed === 'number' && !isNaN(selectedTransaction.pointsRedeemed)) ? selectedTransaction.pointsRedeemed : 0;\n            let newLoyaltyPoints = currentLoyaltyPoints;\n            const clientUpdateMessageParts: string[] = [];\n\n            if (pointsRedeemedThisTransaction > 0) {\n                newLoyaltyPoints -= pointsRedeemedThisTransaction;\n                clientUpdateMessageParts.push(`${pointsRedeemedThisTransaction} poin ditukar`);\n            } else {\n                newLoyaltyPoints += pointsEarnedThisTransaction;\n                if (pointsEarnedThisTransaction > 0) {\n                    clientUpdateMessageParts.push(`${pointsEarnedThisTransaction} poin baru diperoleh`);\n                }\n            }\n\n            const today = new Date().toLocaleDateString('en-CA');\n\n            await updateDoc(clientDocRef, {\n                loyaltyPoints: Math.max(0, newLoyaltyPoints),\n                lastVisit: today,\n            });\n\n            let clientUpdateMessage = `Kunjungan terakhir untuk ${clientData.name} telah diperbarui.`;\n            if (clientUpdateMessageParts.length > 0) {\n                clientUpdateMessage += ` ${clientUpdateMessageParts.join(', ')}.`;\n            } else if (pointsRedeemedThisTransaction === 0 && pointsEarnedThisTransaction === 0) {\n                 clientUpdateMessage += ` (Tidak ada perubahan poin pada transaksi ini).`;\n            }\n            toast({ title: \"Info Klien Diperbarui\", description: clientUpdateMessage.trim() });\n        }\n      }\n\n      const finalTransactionData: Transaction = {\n        ...selectedTransaction,\n        paymentMethod: selectedPaymentMethod,\n        pointsEarnedInThisTx: pointsEarnedThisTransaction,\n      };\n\n      await updateDoc(transactionDocRef, {\n        status: 'paid',\n        paymentMethod: selectedPaymentMethod,\n        notes: paymentNotes || selectedTransaction.notes || '',\n        paidAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n        pointsEarnedInThisTx: pointsEarnedThisTransaction,\n      });\n      toast({ title: \"Pembayaran Sukses\", description: `Transaksi untuk ${selectedTransaction.customerName} berhasil dibayar.`});\n\n      setLastPaidTransactionDetails(finalTransactionData);\n      setWhatsAppNumberInput(selectedClientDetails?.phone || '');\n      setIsWhatsAppDialogOpen(true);\n\n      setIsPaymentDialogOpen(false);\n      setSelectedTransactionId(null);\n      setSelectedClientDetails(null);\n\n    } catch (error) {\n      console.error(\"Error processing payment or updating client: \", error);\n      toast({ title: \"Error Pembayaran/Klien\", description: \"Gagal memproses pembayaran atau memperbarui data klien.\", variant: \"destructive\"});\n    } finally {\n      setIsProcessingPayment(false);\n    }\n  };\n\n  const generateWhatsAppReceiptText = (transaction: Transaction): string => {\n    let text = `*Struk Digital - ${SHOP_NAME}*\\n\\n`;\n    text += `ID Transaksi: ${transaction.id.substring(0, 8)}...\\n`;\n    text += `Pelanggan: ${transaction.customerName}\\n`;\n    if (transaction.paidAt && transaction.paidAt.toDate) {\n        text += `Tanggal: ${transaction.paidAt.toDate().toLocaleString('id-ID', { day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit'})}\\n\\n`;\n    } else {\n        text += `Tanggal: ${new Date().toLocaleString('id-ID', { day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit'})}\\n\\n`;\n    }\n\n    text += `Item:\\n`;\n    transaction.items.forEach(item => {\n      text += `- ${item.name} (${item.quantity} x Rp ${item.price.toLocaleString('id-ID')})`;\n      if(item.staffName) text += ` (Oleh: ${item.staffName})`;\n      if(item.type === 'reward_merchandise') text += ` (REWARD)`;\n      text += ` = Rp ${(item.quantity * item.price).toLocaleString('id-ID')}\\n`;\n    });\n    text += `\\nSubtotal: Rp ${transaction.subtotal.toLocaleString('id-ID')}\\n`;\n\n    if (transaction.redeemedReward && transaction.redeemedReward.type === 'discount_transaction' && transaction.pointsRedeemedValue && transaction.pointsRedeemedValue > 0) {\n      text += `Diskon Reward (${transaction.redeemedReward.name}): - Rp ${transaction.pointsRedeemedValue.toLocaleString('id-ID')}\\n`;\n    } else if (transaction.discountAmount > 0 && (!transaction.redeemedReward || transaction.redeemedReward.type !== 'discount_transaction')) {\n      text += `Diskon Manual: - Rp ${transaction.discountAmount.toLocaleString('id-ID')}\\n`;\n    }\n\n    text += `*Total: Rp ${transaction.total.toLocaleString('id-ID')}*\\n`;\n    text += `Metode Bayar: ${transaction.paymentMethod || 'N/A'}\\n`;\n\n    if (transaction.pointsRedeemed && transaction.pointsRedeemed > 0 && transaction.redeemedReward) {\n        text += `Reward Ditukar: ${transaction.redeemedReward.name} (${transaction.pointsRedeemed.toLocaleString('id-ID')} poin)\\n`;\n        text += `(Tidak ada poin baru diperoleh pada transaksi ini karena penukaran reward.)\\n`;\n    } else if (transaction.pointsEarnedInThisTx && transaction.pointsEarnedInThisTx > 0) {\n        text += `Poin Baru Diperoleh: ${transaction.pointsEarnedInThisTx.toLocaleString('id-ID')} poin\\n`;\n    }\n    \n    const feedbackBaseUrl = process.env.NEXT_PUBLIC_APP_BASE_URL;\n    let feedbackUrl = `[APP_BASE_URL_BELUM_DISET_DI_.ENV]/public/feedback/${transaction.id}`;\n    \n    if (feedbackBaseUrl && feedbackBaseUrl.trim() !== '') {\n      const normalizedBaseUrl = feedbackBaseUrl.endsWith('/') ? feedbackBaseUrl.slice(0, -1) : feedbackBaseUrl;\n      feedbackUrl = `${normalizedBaseUrl}/public/feedback/${transaction.id}`;\n    } else {\n        console.warn(\"NEXT_PUBLIC_APP_BASE_URL is not set. Feedback link will be a placeholder.\");\n    }\n      \n    text += `\\nKami sangat menghargai masukan Anda! Isi survei singkat di: ${feedbackUrl}`;\n    text += `\\n\\nTerima kasih atas kunjungan Anda!`;\n    return text;\n  }\n\n  const formatWhatsAppNumber = (phone: string): string => {\n    let cleaned = phone.replace(/\\D/g, '');\n    if (cleaned.startsWith('0')) {\n      cleaned = '62' + cleaned.substring(1);\n    } else if (cleaned.startsWith('8') && cleaned.length >= 9 && cleaned.length <=13) {\n      cleaned = '62' + cleaned;\n    } else if (!cleaned.startsWith('62')) {\n      cleaned = '62' + cleaned;\n    }\n    return cleaned;\n  };\n\n  const handleSendWhatsAppReceipt = async () => {\n    if (!lastPaidTransactionDetails || !whatsAppNumberInput) {\n      toast({ title: \"Error\", description: \"Detail transaksi atau nomor WhatsApp tidak valid.\", variant: \"destructive\" });\n      return;\n    }\n    const formattedNumber = formatWhatsAppNumber(whatsAppNumberInput);\n    if (!/^\\d+$/.test(formattedNumber) || formattedNumber.length < 10) {\n        toast({ title: \"Nomor Tidak Valid\", description: \"Format nomor WhatsApp tidak benar.\", variant: \"destructive\" });\n        return;\n    }\n\n    const receiptText = generateWhatsAppReceiptText(lastPaidTransactionDetails);\n    setIsSendingWhatsAppReceipt(true);\n\n    try {\n      const response = await fetch('/api/whatsapp/send', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ number: formattedNumber, message: receiptText }),\n      });\n      const result = await response.json();\n\n      if (response.ok && result.success) {\n        toast({\n          title: \"Struk Terkirim via API\",\n          description: `Struk digital sedang dikirim ke ${formattedNumber}. ID Pesan: ${result.messageId || 'N/A'}`,\n        });\n      } else {\n        throw new Error(result.error || 'Gagal mengirim struk via API server.');\n      }\n    } catch (error) {\n      console.error(\"Error sending WhatsApp receipt via API:\", error);\n      toast({\n        title: \"Gagal Mengirim Struk\",\n        description: error instanceof Error ? error.message : \"Terjadi kesalahan saat mengirim struk.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSendingWhatsAppReceipt(false);\n      setIsWhatsAppDialogOpen(false);\n      setLastPaidTransactionDetails(null);\n    }\n  };\n\n  const handleDeleteOpenTransaction = async () => {\n    if (!transactionToDelete) return;\n    setIsDeletingTransaction(true);\n    try {\n      await deleteDoc(doc(db, 'transactions', transactionToDelete.id));\n      toast({\n        title: \"Sukses\",\n        description: `Transaksi untuk \"${transactionToDelete.customerName}\" berhasil dihapus.`,\n      });\n      if (selectedTransactionId === transactionToDelete.id) {\n        setSelectedTransactionId(null);\n        setSelectedClientDetails(null);\n      }\n      setTransactionToDelete(null);\n    } catch (error) {\n      console.error(\"Error deleting transaction: \", error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal menghapus transaksi.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsDeletingTransaction(false);\n    }\n  };\n\n  const handleClearReward = async () => {\n    if (!selectedTransaction || !selectedTransaction.redeemedReward) return;\n\n    setIsSubmittingRedemption(true);\n    try {\n        const transactionDocRef = doc(db, 'transactions', selectedTransaction.id);\n        let updatedItemsArray = selectedTransaction.items.filter(item => item.type !== 'reward_merchandise');\n\n        const { subtotal, total } = calculateTransactionTotals(\n            updatedItemsArray,\n            0,\n            0,\n            0\n        );\n\n        await updateDoc(transactionDocRef, {\n            items: updatedItemsArray,\n            subtotal: subtotal,\n            total: total,\n            discountAmount: 0,\n            discountPercentage: 0,\n            pointsRedeemed: firestoreDeleteField(),\n            pointsRedeemedValue: firestoreDeleteField(),\n            redeemedReward: firestoreDeleteField(),\n            notes: selectedTransaction.notes?.replace(/\\[Tukar.*?poin.*?\\]/g, '').trim() || '',\n            updatedAt: serverTimestamp(),\n        });\n        toast({ title: \"Reward Dihapus\", description: \"Reward telah dihapus dari transaksi.\" });\n    } catch (error) {\n        console.error(\"Error clearing reward:\", error);\n        toast({ title: \"Error\", description: \"Gagal menghapus reward.\", variant: \"destructive\"});\n    } finally {\n        setIsSubmittingRedemption(false);\n    }\n  };\n\n  if (loadingTransactions || loadingCatalogItems || loadingClients || loadingAssignableStaff || loadingLoyaltyRewards) {\n    return (\n      <div className=\"flex flex-col h-full\">\n        <AppHeader title=\"Penjualan\" />\n        <div className=\"flex-1 flex items-center justify-center\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n          <p className=\"ml-2\">Memuat data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const isAddItemButtonDisabled = isSubmittingItem || !selectedCatalogItemId || loadingCatalogItems ||\n                                (selectedGalleryItemDetails?.type === 'Layanan' && loadingAssignableStaff) ||\n                                (selectedGalleryItemDetails?.variants && selectedGalleryItemDetails.variants.length > 0 && !selectedVariantId);\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <AppHeader title=\"Penjualan\" />\n      <main className=\"flex-1 overflow-y-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-1 space-y-4\">\n           <AlertDialog open={!!transactionToDelete} onOpenChange={(open) => !open && setTransactionToDelete(null)}>\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between p-4\">\n                  <CardTitle className=\"text-lg flex-grow mr-4\">Transaksi Terbuka</CardTitle>\n                  <Button\n                    onClick={() => { resetNewBillDialogState(); setIsCreateBillDialogOpen(true); }}\n                    size=\"sm\"\n                    className=\"bg-primary text-primary-foreground hover:bg-primary/90 flex-shrink-0\"\n                  >\n                      <PlusCircle className=\"mr-2 h-4 w-4\" /> Bill Baru\n                  </Button>\n              </CardHeader>\n              <CardContent className=\"max-h-[calc(100vh-200px)] overflow-y-auto\">\n                {openTransactions.length === 0 ? (\n                  <p className=\"text-muted-foreground text-center py-4\">Tidak ada transaksi terbuka.</p>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {openTransactions.map((trans) => (\n                      <div key={trans.id} className=\"flex items-center gap-2\">\n                        <Button\n                          variant={selectedTransactionId === trans.id ? \"secondary\" : \"outline\"}\n                          className=\"w-full justify-start h-auto py-3 flex-grow\"\n                          onClick={() => handleSelectTransaction(trans.id)}\n                        >\n                          <div className=\"flex flex-col items-start\">\n                            <span className=\"font-semibold\">{trans.customerName}</span>\n                            <span className=\"text-xs text-muted-foreground\">\n                              {trans.items.length} item - Total: Rp {trans.total.toLocaleString('id-ID')}\n                            </span>\n                            <span className=\"text-xs text-muted-foreground\">\n                                Staf Layanan: {trans.serviceStaffName || 'N/A'}\n                            </span>\n                          </div>\n                        </Button>\n                        <AlertDialogTrigger asChild>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"text-destructive hover:text-destructive flex-shrink-0\"\n                            onClick={() => setTransactionToDelete(trans)}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </AlertDialogTrigger>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n            <AlertDialogContent>\n              <AlertDialogHeader>\n                <AlertDialogTitle>Konfirmasi Penghapusan</AlertDialogTitle>\n                <AlertDialogDescription>\n                  Apakah Anda yakin ingin menghapus transaksi untuk \"{transactionToDelete?.customerName}\"? Transaksi ini berstatus 'terbuka' dan akan dihapus permanen.\n                </AlertDialogDescription>\n              </AlertDialogHeader>\n              <AlertDialogFooter>\n                <AlertDialogCancel onClick={() => setTransactionToDelete(null)} disabled={isDeletingTransaction}>Batal</AlertDialogCancel>\n                <AlertDialogAction\n                  onClick={handleDeleteOpenTransaction}\n                  disabled={isDeletingTransaction}\n                  className={buttonVariants({ variant: \"destructive\" })}\n                >\n                  {isDeletingTransaction ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n                  Hapus Transaksi\n                </AlertDialogAction>\n              </AlertDialogFooter>\n            </AlertDialogContent>\n          </AlertDialog>\n        </div>\n\n        <div className=\"lg:col-span-2 space-y-6\">\n          {selectedTransaction ? (\n            <>\n              <Card>\n                <CardHeader>\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                        <CardTitle>Detail Pesanan: {selectedTransaction.customerName}</CardTitle>\n                        <CardDescription>\n                            Transaksi ID: {selectedTransaction.id} | Staf Layanan Utama: {selectedTransaction.serviceStaffName || \"Belum Ditugaskan\"}\n                        </CardDescription>\n                         {selectedClientDetails && (\n                            <div className=\"mt-1 text-sm text-primary flex items-center\">\n                                <Star className=\"h-4 w-4 mr-1 text-yellow-400\" />\n                                Poin Klien: {(selectedClientDetails.loyaltyPoints || 0).toLocaleString('id-ID')}\n                            </div>\n                        )}\n                    </div>\n                    {selectedClientDetails && (selectedClientDetails.loyaltyPoints || 0) >= minPointsToRedeemConfig && !selectedTransaction.redeemedReward && (\n                        <Button\n                          size=\"sm\"\n                          variant=\"default\"\n                          onClick={handleOpenRedeemPointsDialog}\n                          className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n                          disabled={loadingLoyaltyRewards}\n                        >\n                            {loadingLoyaltyRewards ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <Tags className=\"mr-2 h-4 w-4\" />} Tukar Reward\n                        </Button>\n                    )}\n                    {selectedTransaction.redeemedReward && (\n                         <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"border-destructive text-destructive hover:bg-destructive/10 hover:text-destructive\"\n                            onClick={handleClearReward}\n                        >\n                            <Trash2 className=\"mr-2 h-4 w-4\"/> Hapus Reward Aktif\n                        </Button>\n                    )}\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"flex justify-end mb-2\">\n                     <Button\n                        size=\"sm\"\n                        onClick={() => { resetAddItemForm(); setIsAddItemDialogOpen(true); }}\n                        className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n                     >\n                        <PlusCircle className=\"mr-2 h-4 w-4\"/> Tambah Item\n                    </Button>\n                  </div>\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Item</TableHead>\n                        <TableHead className=\"text-center\">Jml</TableHead>\n                        <TableHead className=\"text-right\">Harga</TableHead>\n                        <TableHead className=\"text-right\">Subtotal</TableHead>\n                        <TableHead>Aksi</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {selectedTransaction.items.map((item) => (\n                        <TableRow key={item.id}>\n                          <TableCell>\n                            {item.name}\n                            {item.staffName && <span className=\"text-xs text-muted-foreground block\">Oleh: {item.staffName}</span>}\n                            {item.type === 'reward_merchandise' && <Badge variant=\"secondary\" className=\"ml-2 text-xs\">REWARD</Badge>}\n                          </TableCell>\n                          <TableCell className=\"text-center\">{item.quantity}</TableCell>\n                          <TableCell className=\"text-right\">Rp {item.price.toLocaleString('id-ID')}</TableCell>\n                          <TableCell className=\"text-right\">Rp {(item.price * item.quantity).toLocaleString('id-ID')}</TableCell>\n                          <TableCell>\n                            <Button\n                                variant=\"ghost\"\n                                size=\"icon\"\n                                className=\"text-destructive hover:text-destructive h-8 w-8\"\n                                onClick={() => handleRemoveItemFromTransaction(item.id)}\n                                disabled={isSubmittingItem || (item.type === 'reward_merchandise' && selectedTransaction.redeemedReward?.name === item.name)}\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                      {selectedTransaction.items.length === 0 && (\n                        <TableRow><TableCell colSpan={5} className=\"text-center text-muted-foreground py-4\">Belum ada item.</TableCell></TableRow>\n                      )}\n                    </TableBody>\n                  </Table>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Ringkasan Pembayaran</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span>Subtotal ({selectedTransaction.items.reduce((acc,item)=> acc + item.quantity, 0)} item)</span>\n                    <span>Rp {selectedTransaction.subtotal.toLocaleString('id-ID')}</span>\n                  </div>\n                  {selectedTransaction.redeemedReward && selectedTransaction.redeemedReward.type === 'discount_transaction' && selectedTransaction.pointsRedeemedValue ? (\n                     <div className=\"flex justify-between text-green-600\">\n                        <span>Diskon dari Reward: {selectedTransaction.redeemedReward.name}</span>\n                        <span>- Rp {(selectedTransaction.pointsRedeemedValue).toLocaleString('id-ID')}</span>\n                    </div>\n                  ) : selectedTransaction.redeemedReward && selectedTransaction.redeemedReward.type === 'merchandise' ? (\n                     <div className=\"flex justify-between text-green-600\">\n                        <span>Reward Merchandise: {selectedTransaction.redeemedReward.name}</span>\n                        <span>(Termasuk)</span>\n                    </div>\n                  ) : (\n                    <div className=\"flex justify-between items-center\">\n                        <span>Diskon Manual</span>\n                        <div className=\"flex items-center gap-2\">\n                            <Input\n                                type=\"number\"\n                                placeholder=\"Rp\"\n                                className=\"w-24 h-8 text-right\"\n                                defaultValue={selectedTransaction.discountPercentage > 0 ? '' : (selectedTransaction.discountAmount || \"\")}\n                                onBlur={(e) => {\n                                    handleDiscountChange(selectedTransaction.id, selectedTransaction.items, e.target.value, '0');\n                                }}\n                                disabled={selectedTransaction.discountPercentage > 0 || !!selectedTransaction.redeemedReward}\n                            />\n                            <span className=\"text-sm\">atau</span>\n                            <Input\n                                type=\"number\"\n                                placeholder=\"%\"\n                                className=\"w-16 h-8 text-right\"\n                                defaultValue={selectedTransaction.discountAmount > 0 ? '' : (selectedTransaction.discountPercentage || \"\")}\n                                onBlur={(e) => {\n                                    handleDiscountChange(selectedTransaction.id, selectedTransaction.items, '0', e.target.value);\n                                }}\n                                disabled={selectedTransaction.discountAmount > 0 || !!selectedTransaction.redeemedReward}\n                            />\n                        </div>\n                    </div>\n                  )}\n                  <Separator />\n                  <div className=\"flex justify-between font-bold text-lg\">\n                    <span>Total</span>\n                    <span>Rp {selectedTransaction.total.toLocaleString('id-ID')}</span>\n                  </div>\n                </CardContent>\n                <CardFooter className=\"flex-col space-y-2\">\n                    <Button\n                      className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90\"\n                      onClick={handleOpenPaymentDialog}\n                      disabled={!selectedTransaction || selectedTransaction.items.length === 0 || isProcessingPayment}\n                    >\n                      {isProcessingPayment ? <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> : <CreditCard className=\"mr-2 h-5 w-5\" />}\n                      Proses Pembayaran\n                    </Button>\n                </CardFooter>\n              </Card>\n            </>\n          ) : (\n            <Card className=\"flex items-center justify-center h-full\">\n              <CardContent className=\"text-center text-muted-foreground\">\n                <ShoppingBag className=\"mx-auto h-12 w-12 mb-4\" />\n                <p>Pilih transaksi dari daftar di sebelah kiri untuk melihat detailnya,</p>\n                <p>atau buat bill baru.</p>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </main>\n\n\n      <Dialog open={isCreateBillDialogOpen} onOpenChange={setIsCreateBillDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Buat Bill Baru</DialogTitle>\n            <DialogDescription>Pilih jenis pelanggan atau pelanggan terdaftar.</DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-2 pb-4\">\n            <RadioGroup value={newBillType} onValueChange={(value: 'walk-in' | 'existing-client') => setNewBillType(value)}>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"walk-in\" id=\"rb-walk-in\" />\n                <Label htmlFor=\"rb-walk-in\">Pelanggan Walk-in</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"existing-client\" id=\"rb-existing-client\" />\n                <Label htmlFor=\"rb-existing-client\">Klien Terdaftar</Label>\n              </div>\n            </RadioGroup>\n\n            {newBillType === 'existing-client' && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"client-select-for-bill\">Pilih Klien</Label>\n                <Select\n                  value={selectedClientIdForNewBill}\n                  onValueChange={setSelectedClientIdForNewBill}\n                  disabled={loadingClients}\n                >\n                  <SelectTrigger id=\"client-select-for-bill\">\n                    <SelectValue placeholder={loadingClients ? \"Memuat klien...\" : \"Pilih klien\"} />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {!loadingClients && availableClients.length === 0 && (\n                      <SelectItem value=\"no-clients\" disabled>Tidak ada klien terdaftar.</SelectItem>\n                    )}\n                    {availableClients.map(client => (\n                      <SelectItem key={client.id} value={client.id}>\n                        {client.name} ({client.phone})\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n          </div>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button variant=\"outline\" onClick={resetNewBillDialogState} disabled={isSubmittingNewBill}>Batal</Button>\n            </DialogClose>\n            <Button\n              onClick={handleConfirmCreateBill}\n              disabled={isSubmittingNewBill || (newBillType === 'existing-client' && !selectedClientIdForNewBill && !loadingClients)}\n              className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n            >\n              {isSubmittingNewBill ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <UserPlus className=\"mr-2 h-4 w-4\" />}\n              Buat Transaksi\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n\n\n      {selectedTransaction && (\n        <Dialog open={isAddItemDialogOpen} onOpenChange={(isOpen) => {\n            setIsAddItemDialogOpen(isOpen);\n            if (!isOpen) resetAddItemForm();\n        }}>\n          <DialogContent className=\"sm:max-w-2xl md:max-w-3xl\">\n            <DialogHeader>\n              <DialogTitle>Tambah Item ke Transaksi</DialogTitle>\n              <DialogDescription>Untuk {selectedTransaction.customerName}. Pilih item dari galeri di bawah.</DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-2 pb-4\">\n              {loadingCatalogItems ? (\n                <div className=\"flex justify-center items-center h-64\">\n                  <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n                  <p className=\"ml-2\">Memuat item...</p>\n                </div>\n              ) : availableItems.length === 0 ? (\n                 <p className=\"text-center text-muted-foreground\">Tidak ada item di katalog.</p>\n              ) : (\n                <Tabs value={selectedItemCategoryTab} onValueChange={handleCategoryTabChange}>\n                  <TabsList className=\"mb-4\">\n                    {itemCategories.map(category => (\n                      <TabsTrigger key={category} value={category}>{category}</TabsTrigger>\n                    ))}\n                  </TabsList>\n                  <ScrollArea className=\"h-72 pr-3\">\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                      {filteredGalleryItems.map(item => (\n                        <Card\n                          key={item.id}\n                          onClick={() => handleSelectGalleryItem(item)}\n                          className={cn(\n                            \"cursor-pointer hover:shadow-lg transition-shadow duration-150 flex flex-col\",\n                            selectedCatalogItemId === item.id && \"ring-2 ring-primary shadow-lg\"\n                          )}\n                        >\n                          <CardHeader className=\"p-3 flex-grow\">\n                            <CardTitle className=\"text-sm md:text-base line-clamp-2\">{item.name}</CardTitle>\n                            <CardDescription className=\"text-xs md:text-sm\">Rp {item.price.toLocaleString('id-ID')}</CardDescription>\n                          </CardHeader>\n                          <CardContent className=\"p-3 pt-0 text-xs\">\n                            <Badge\n                              variant={item.type === 'Layanan' ? 'default' : 'secondary'}\n                              className=\"mb-1 capitalize text-xs px-1.5 py-0.5 h-auto\"\n                            >\n                              {item.type}\n                            </Badge>\n                            {item.pointsAwarded && item.pointsAwarded > 0 && (\n                              <div className=\"flex items-center text-muted-foreground\">\n                                <Gift className=\"mr-1 h-3 w-3 text-yellow-500\" /> {item.pointsAwarded} pts\n                              </div>\n                            )}\n                            {item.variants && item.variants.length > 0 && (\n                               <div className=\"flex items-center text-muted-foreground mt-1\">\n                                <PackageSearch className=\"mr-1 h-3 w-3 text-blue-500\" /> {item.variants.length} varian\n                              </div>\n                            )}\n                          </CardContent>\n                        </Card>\n                      ))}\n                      {filteredGalleryItems.length === 0 && selectedItemCategoryTab !== \"Semua\" && (\n                        <p className=\"col-span-full text-center text-muted-foreground py-4\">\n                          Tidak ada item dalam kategori \"{selectedItemCategoryTab}\".\n                        </p>\n                      )}\n                    </div>\n                  </ScrollArea>\n                </Tabs>\n              )}\n\n              {selectedCatalogItemId && selectedGalleryItemDetails && (\n                 <div className=\"mt-4 p-3 border rounded-md bg-muted/30 space-y-2\">\n                    <p className=\"font-medium text-sm\">Item Terpilih: {selectedGalleryItemDetails.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">Harga Dasar: Rp {selectedGalleryItemDetails.price.toLocaleString('id-ID')}</p>\n                     {selectedGalleryItemDetails.variants && selectedGalleryItemDetails.variants.length > 0 && (\n                       <div className=\"space-y-1\">\n                         <Label htmlFor=\"item-variant-select\">Pilih Varian</Label>\n                         <Select value={selectedVariantId} onValueChange={setSelectedVariantId}>\n                           <SelectTrigger id=\"item-variant-select\">\n                             <SelectValue placeholder=\"Pilih varian produk/layanan\" />\n                           </SelectTrigger>\n                           <SelectContent>\n                             {selectedGalleryItemDetails.variants.map(variant => (\n                               <SelectItem key={variant.id} value={variant.id}>\n                                 {variant.name} (Rp {variant.price.toLocaleString('id-ID')})\n                                 {variant.pointsAwarded ? ` - ${variant.pointsAwarded} Pts` : ''}\n                               </SelectItem>\n                             ))}\n                           </SelectContent>\n                         </Select>\n                       </div>\n                     )}\n                 </div>\n              )}\n\n               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"item-quantity\">Jumlah</Label>\n                    <Input\n                        id=\"item-quantity\"\n                        type=\"number\"\n                        value={itemQuantity}\n                        onChange={(e) => setItemQuantity(e.target.value)}\n                        placeholder=\"1\"\n                        min=\"1\"\n                        disabled={!selectedCatalogItemId || loadingCatalogItems}\n                        className=\"w-full\"\n                    />\n                  </div>\n                  {selectedGalleryItemDetails?.type === 'Layanan' && (\n                    <div className=\"space-y-2\">\n                        <Label htmlFor=\"staff-assign-select\" className=\"flex items-center\">\n                            <UserCog className=\"mr-2 h-4 w-4 text-muted-foreground\" />Staf Pelaksana\n                        </Label>\n                        <Select\n                            value={selectedStaffForNewItemToAdd}\n                            onValueChange={setSelectedStaffForNewItemToAdd}\n                            disabled={loadingAssignableStaff || !selectedCatalogItemId}\n                        >\n                            <SelectTrigger id=\"staff-assign-select\" className=\"w-full\">\n                                <SelectValue placeholder={loadingAssignableStaff ? \"Memuat staf...\" : \"Pilih staf\"} />\n                            </SelectTrigger>\n                            <SelectContent>\n                            {!loadingAssignableStaff && assignableStaffList.length === 0 && (\n                                <SelectItem value=\"no-staff\" disabled>Tidak ada teknisi tersedia.</SelectItem>\n                            )}\n                            {assignableStaffList.map(staff => (\n                                <SelectItem key={staff.id} value={staff.name}>\n                                {staff.name} ({staff.role})\n                                </SelectItem>\n                            ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n                  )}\n               </div>\n            </div>\n            <DialogFooter>\n              <Button variant=\"outline\" onClick={() => { setIsAddItemDialogOpen(false); resetAddItemForm(); }} disabled={isSubmittingItem}>Batal</Button>\n              <Button\n                onClick={handleAddItemToTransaction}\n                disabled={isAddItemButtonDisabled}\n                className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n              >\n                {isSubmittingItem && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                Tambah Item\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n      )}\n\n\n      {selectedTransaction && selectedClientDetails && (\n        <Dialog open={isRedeemPointsDialogOpen} onOpenChange={(isOpen) => {\n            setIsRedeemPointsDialogOpen(isOpen);\n            if (!isOpen) setSelectedRewardToRedeem(null);\n        }}>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Tukar Reward Loyalitas</DialogTitle>\n              <DialogDescription>\n                Klien: {selectedClientDetails.name} | Poin Tersedia: {(selectedClientDetails.loyaltyPoints || 0).toLocaleString('id-ID')}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-2 pb-4\">\n              {loadingLoyaltyRewards ? (\n                  <div className=\"flex items-center justify-center\"><Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> Memuat daftar reward...</div>\n              ) : availableRewardsForClient.length === 0 ? (\n                <p className=\"text-center text-muted-foreground\">Tidak ada reward yang bisa ditukarkan dengan poin Anda saat ini.</p>\n              ) : (\n                <RadioGroup\n                    value={selectedRewardToRedeem?.id}\n                    onValueChange={(value) => {\n                        const reward = availableRewardsForClient.find(r => r.id === value);\n                        setSelectedRewardToRedeem(reward || null);\n                    }}\n                >\n                  <Label className=\"mb-2 block\">Pilih Reward:</Label>\n                  {availableRewardsForClient.map((reward) => (\n                    <div key={reward.id} className=\"flex items-center space-x-3 p-3 border rounded-md hover:bg-muted/50 cursor-pointer has-[input:checked]:bg-accent/20 has-[input:checked]:border-accent\">\n                       <RadioGroupItem value={reward.id} id={`reward-${reward.id}`} className=\"mt-1\" />\n                       <Label htmlFor={`reward-${reward.id}`} className=\"font-normal w-full cursor-pointer\">\n                         <div className=\"font-medium\">{reward.name} ({reward.pointsRequired} Poin)</div>\n                         <p className=\"text-xs text-muted-foreground\">\n                           {reward.type === 'merchandise' ? `Dapatkan: ${reward.rewardValue}` :\n                            reward.type === 'discount_transaction' ? `Diskon: Rp ${(reward.rewardValue as number).toLocaleString('id-ID')}` :\n                            reward.description}\n                         </p>\n                       </Label>\n                    </div>\n                  ))}\n                </RadioGroup>\n              )}\n            </div>\n            <DialogFooter>\n              <Button variant=\"outline\" onClick={() => setIsRedeemPointsDialogOpen(false)} disabled={isSubmittingRedemption}>Batal</Button>\n              <Button\n                onClick={handleRedeemReward}\n                disabled={isSubmittingRedemption || !selectedRewardToRedeem || availableRewardsForClient.length === 0 || loadingLoyaltyRewards}\n                className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n              >\n                {isSubmittingRedemption && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                Tukarkan Reward\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n      )}\n\n\n\n      {selectedTransaction && (\n         <Dialog open={isPaymentDialogOpen} onOpenChange={setIsPaymentDialogOpen}>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Proses Pembayaran</DialogTitle>\n              <DialogDescription>\n                Untuk transaksi: {selectedTransaction.customerName} <br />\n                Total Tagihan: <span className=\"font-bold text-lg\">Rp {selectedTransaction.total.toLocaleString('id-ID')}</span>\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-2 pb-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"payment-method-select\">Metode Pembayaran</Label>\n                <Select value={selectedPaymentMethod} onValueChange={setSelectedPaymentMethod}>\n                  <SelectTrigger id=\"payment-method-select\">\n                    <SelectValue placeholder=\"Pilih metode pembayaran\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {paymentMethods.map(method => (\n                      <SelectItem key={method} value={method}>{method}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"payment-notes\">Catatan (Opsional)</Label>\n                <Textarea\n                  id=\"payment-notes\"\n                  value={paymentNotes}\n                  onChange={(e) => setPaymentNotes(e.target.value)}\n                  placeholder=\"Mis. Pembayaran DP, Lunas dengan diskon khusus, dll.\"\n                />\n              </div>\n            </div>\n            <DialogFooter>\n              <DialogClose asChild>\n                <Button variant=\"outline\" disabled={isProcessingPayment}>Batal</Button>\n              </DialogClose>\n              <Button\n                onClick={handleConfirmPayment}\n                disabled={isProcessingPayment || !selectedPaymentMethod}\n                className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n              >\n                {isProcessingPayment && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                Konfirmasi Pembayaran\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n      )}\n\n\n      <Dialog open={isWhatsAppDialogOpen} onOpenChange={(isOpen) => {\n        setIsWhatsAppDialogOpen(isOpen);\n        if (!isOpen) setLastPaidTransactionDetails(null);\n      }}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center\">\n              <MessageSquareText className=\"mr-2 h-5 w-5 text-green-500\" /> Kirim Struk via WhatsApp\n            </DialogTitle>\n            <DialogDescription>\n              Masukkan nomor WhatsApp pelanggan untuk mengirim struk digital.\n              {lastPaidTransactionDetails && ` (Transaksi: ${lastPaidTransactionDetails.customerName})`}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-2 pb-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"whatsapp-number-input\">Nomor WhatsApp</Label>\n              <Input\n                id=\"whatsapp-number-input\"\n                placeholder=\"mis. 6281234567890 atau 081234567890\"\n                value={whatsAppNumberInput}\n                onChange={(e) => setWhatsAppNumberInput(e.target.value)}\n                type=\"tel\"\n                disabled={isSendingWhatsAppReceipt}\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Akan diformat ke standar internasional (mis. 62xxxx).\n              </p>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => { setIsWhatsAppDialogOpen(false); setLastPaidTransactionDetails(null); }} disabled={isSendingWhatsAppReceipt}>\n              Lewati\n            </Button>\n            <Button\n              onClick={handleSendWhatsAppReceipt}\n              disabled={!whatsAppNumberInput || !lastPaidTransactionDetails || isSendingWhatsAppReceipt}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              {isSendingWhatsAppReceipt ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Send className=\"mr-2 h-4 w-4\" />}\n              Kirim Struk\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\n\n    "],"names":[],"mappings":"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","debugId":null}}]
}